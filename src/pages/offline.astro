---
import Layout from '../layouts/Layout.astro';
import {
  Card,
  CardContent,
  CardFooter,
  CardTitle
} from "@/components/ui/card";
import {
  Button
} from "@/components/ui/button";
import { Input } from '@/components/ui/input';
---
<Layout>
	<div class="flex items-center justify-center h-screen w-screen flex-col scrollbar-hide" id="thediv">
		<Card className='w-100 h-auto items-center'>
		<CardTitle className='text-center text-3xl'>RanBoom: Offline version</CardTitle>
		<CardFooter className='text-center'>This is the offline version for when the normal version ends.</CardFooter>
		<CardContent className=" justify-between hidden" id='thecontent'>
			<p class="text-center text-[15px]" id="thetext">
			</p>
		  </CardContent>
		<CardContent className="flex gap-1" id='theclicks'>
			<p id="thecounter">Clicks: 0</p>
		</CardContent>
		  <CardContent className="flex justify-between">
			<Button id='thebutton' className=''>Click me!</Button>
		  </CardContent>
		  <script>
			import { gsap } from "gsap";
			const texts = [
			  "Kabo- that didint happen.",
			  "You still there?",
			  "Man just give up",
			  "*sleeps*",
			  "Just use a macro at this point",
			  "Still waiting....",
			  "You know you can develop an entire app if you didn't click the button?",
			  "I'm going to break your dreams. This is not going to get destroyed.",
			  "404, Text Not found",
			  "This is not going to kaboom",
			  "Close this tab. Trust me",
			  "Are you still here?",
			];
			const thebutton = document.getElementById("thebutton");
			const thetext = document.getElementById("thetext");
			const thecontent = document.getElementById("thecontent");
			const theclicks = document.getElementById("theclicks");
			let texttimeline = gsap.timeline();
			let clickCount = 0;
			thebutton?.addEventListener("click", () => {
			  clickCount++;
			  theclicks.textContent = `Clicks: ${clickCount}`;
			  texttimeline.clear();
			  const indice = Math.floor(Math.random() * texts.length);
			  texttimeline.to(thetext, {duration: 0.25, y: -10, ease: "power1.inOut"})
			  .to(thetext, {duration: 0.25, y: 0, ease: "power1.inOut"})
			  thecontent.classList.remove("hidden");
			  thecontent.classList.add("flex");

			  const randomkaboom = Math.floor(Math.random() * 1000);
			  if (randomkaboom < 1) {
				thetext.textContent = `KABOOM! (cuando sienta el boom) the website has been deleted!`;
				thebutton.style.display = "none";
			  } else {
				thetext.textContent = texts[indice];
			  }
			});
		  </script>
		</Card>
	</div>
</Layout>
